{"meta":{"title":"初白的BLOG","subtitle":"","description":"","author":"John Doe","url":"http://weijia-java.github.io","root":"/"},"pages":[{"title":"categories","date":"2020-12-23T15:09:29.000Z","updated":"2020-12-23T15:10:28.154Z","comments":true,"path":"categories/index.html","permalink":"http://weijia-java.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"MYSQL-01 | 基础架构：一条SQL查询语句是如何执行的？","slug":"MYSQL-01  基础架构：一条SQL查询语句是如何执行的？","date":"2020-12-24T09:48:39.000Z","updated":"2020-12-24T11:06:22.457Z","comments":true,"path":"2020/12/24/MYSQL-01  基础架构：一条SQL查询语句是如何执行的？/","link":"","permalink":"http://weijia-java.github.io/2020/12/24/MYSQL-01%20%20%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%84%EF%BC%9A%E4%B8%80%E6%9D%A1SQL%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%9F/","excerpt":"","text":"MYSQL-01 | 基础架构：一条SQL查询语句是如何执行的？0 MYSQL慢查询​ 在web开发如此火爆的年代，数据库就成了我们开发中必不可少的一环。而使用数据库的绝大部分的时间是在单一的查询数据可，在大量的数据库查询中我们要尽可能的减少每一条的查询时间，而慢查询日志，就可以让我们在发现查询时间过长的SQL语句的时候对于查询为什么这么慢有很大帮助。 ​ 下面是MYSQL 慢查询日志：（一次性，永久的要修改my文件） 1234567891011121314151617181920212223242526272829-- 查看慢查询日志是否打开show variables like &#39;%slow%&#39; ;-- 查看慢查询状态show global status like &#39;%slow%&#39;; -- 打开慢查询日志set @@global.slow_query_log &#x3D; ON; -- 睡10s 测试慢查询select sleep(5) ; -- 查看慢查询超时时间show variables like &#39;long_query%&#39;-- 设置慢查询时间，超过这个时间则记录入慢查询日志set long_query_time&#x3D;2-- 查看慢查询日志输出方式select @@global.log_output -- 设置慢查询日志 table形式表示set @@global.log_output&#x3D;&#39;TABLE&#39;; -- 查询慢查询日志select * from mysql.slow_log; 1 基本结构​ 写这篇文章主要是想梳理一下MYSQL在执行一条SQL语句的时候发生的各种情况，MYSQL自己是怎么处理的。比如更新一条信息，根据（没有）主键查询信息。在以上的古城中数据库是怎样处理一下连带问题（权限，缓存，一致性，脏读和幻读的问题）。 ​ ​ 在MYSQL中一共可以大致的分成两层（不包括客户端）server层和存储引擎，而MYSQL的SQL语句主要是在server层进行处理。 ​ 在上图的可以看出，基本上分为server层和存储引擎两个部分。 ​ server层包括连接器、查询缓存（在8.0之后删除了）、分析器、优化器和执行器等，几乎包揽了MYSQL所有重要的核心功能，以及所有的内置函数。所有跨存储引擎的功能都在这一层实现，比如存储过程。触发器、视图等。 ​ 存储引擎负责数据的提取和存储功能。其架构是插件式（可更换），支持InnoDB、MyISAM、Memory等多个存储引擎，在MySQL 5.5.5版本开始默认InnoDB（在创建标时可以使用engine=Memory来使用你想要的存储引擎）。 1mysql&gt; select * from T where ID&#x3D;10； ​ 下面开始简单的解释一下上面的语句的执行流程。 连接器​ 在MySQL执行上面的数据前，首先要创建一个链接，来连接数据库，这个时候就是连接器来起作用。连接器主要负责和用户建立链接，获取权限，维持和管理连接。连接命令如下： 1mysql -h$ip -P$port -u$user -p -- 参数依次是数据库ip地址、端口号、用户名、密码 ​","categories":[{"name":"MYSQL_深度解析","slug":"MYSQL-深度解析","permalink":"http://weijia-java.github.io/categories/MYSQL-%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/"}],"tags":[{"name":"MYSQL","slug":"MYSQL","permalink":"http://weijia-java.github.io/tags/MYSQL/"}]},{"title":"My New Post","slug":"My-New-Post","date":"2020-12-22T12:41:26.000Z","updated":"2020-12-24T03:03:09.176Z","comments":true,"path":"2020/12/22/My-New-Post/","link":"","permalink":"http://weijia-java.github.io/2020/12/22/My-New-Post/","excerpt":"","text":"Hexo文章初步建设 新建文章命令 hexo new post postname 文章生成目录存在于blog/scourse/ win、IOS系统使用markdown软件打开编辑，命令行使用vim 文章生成 hexo g 文章发布 hexo d","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://weijia-java.github.io/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://weijia-java.github.io/tags/Hexo/"}]},{"title":"Hello World","slug":"hello-world","date":"2020-12-22T10:22:36.215Z","updated":"2020-12-22T10:22:36.215Z","comments":true,"path":"2020/12/22/hello-world/","link":"","permalink":"http://weijia-java.github.io/2020/12/22/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"MYSQL_深度解析","slug":"MYSQL-深度解析","permalink":"http://weijia-java.github.io/categories/MYSQL-%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/"},{"name":"Hexo","slug":"Hexo","permalink":"http://weijia-java.github.io/categories/Hexo/"}],"tags":[{"name":"MYSQL","slug":"MYSQL","permalink":"http://weijia-java.github.io/tags/MYSQL/"},{"name":"Hexo","slug":"Hexo","permalink":"http://weijia-java.github.io/tags/Hexo/"}]}